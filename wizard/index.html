<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tunecamp Wizard</title>
  <link rel="stylesheet" href="wizard.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="wizard-container">
    <!-- Header -->
    <header class="wizard-header">
      <div class="logo">
        <svg width="40" height="40" viewBox="0 0 100 100" fill="none">
          <circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="4"/>
          <circle cx="50" cy="50" r="20" fill="currentColor"/>
          <circle cx="50" cy="50" r="8" fill="var(--bg-primary)"/>
        </svg>
        <span>Tunecamp</span>
      </div>
      <div class="language-selector">
        <button id="lang-en" class="lang-btn active" onclick="setLanguage('en')">EN</button>
        <button id="lang-it" class="lang-btn" onclick="setLanguage('it')">IT</button>
      </div>
    </header>

    <!-- Progress bar -->
    <div class="progress-container">
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
      <div class="progress-steps" id="progress-steps">
        <div class="step active" data-step="1">1</div>
        <div class="step" data-step="2">2</div>
        <div class="step" data-step="3">3</div>
        <div class="step" data-step="4">4</div>
        <div class="step" data-step="5">5</div>
        <div class="step" data-step="6">6</div>
      </div>
    </div>

    <!-- Main content -->
    <main class="wizard-main">
      <!-- Step 1: Welcome -->
      <section class="wizard-step active" id="step-1">
        <div class="step-content">
          <h1 id="welcome-title">Welcome to Tunecamp</h1>
          <p class="subtitle" id="welcome-subtitle">Create your music website in minutes</p>
          <p class="description" id="welcome-description">
            Tunecamp helps you create a static website for your music. No database, no complicated servers - just HTML files you can host anywhere.
          </p>
          
          <!-- Mode Selection -->
          <div class="mode-selection" id="mode-selection">
            <div class="mode-card" onclick="selectMode('new')" id="mode-new">
              <div class="mode-icon-large">‚ú®</div>
              <h3 id="mode-new-title">Create New Site</h3>
              <p id="mode-new-desc">Start from scratch</p>
            </div>
            <div class="mode-card" onclick="selectMode('load')" id="mode-load">
              <div class="mode-icon-large">üìÇ</div>
              <h3 id="mode-load-title">Load Existing Site</h3>
              <p id="mode-load-desc">Upload a ZIP file from a previous wizard session</p>
            </div>
          </div>
          
          <!-- Load ZIP area (hidden initially) -->
          <div class="load-zip-area" id="load-zip-area" style="display: none;">
            <div class="file-upload-area zip-upload" id="zip-upload-area">
              <div class="upload-placeholder">
                <span class="upload-icon">üì¶</span>
                <span id="zip-upload-text">Click or drag to upload ZIP file</span>
                <small>Select a ZIP file previously generated by Tunecamp wizard</small>
              </div>
              <input type="file" id="zipFileInput" accept=".zip" hidden>
            </div>
            <div class="load-status" id="load-status" style="display: none;"></div>
          </div>
          
          <div class="features-grid" id="features-grid">
            <div class="feature">
              <span class="feature-icon">üéµ</span>
              <span class="feature-text" data-i18n="feature-audio">Audio-first design</span>
            </div>
            <div class="feature">
              <span class="feature-icon">üöÄ</span>
              <span class="feature-text" data-i18n="feature-fast">Lightning fast</span>
            </div>
            <div class="feature">
              <span class="feature-icon">üì±</span>
              <span class="feature-text" data-i18n="feature-responsive">Mobile friendly</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Step 2: Catalog -->
      <section class="wizard-step" id="step-2">
        <div class="step-content">
          <h2 id="catalog-title">Configure Catalog</h2>
          <p class="subtitle" id="catalog-subtitle">Basic information for your music site</p>
          
          <div class="form-group">
            <label for="catalogTitle" id="label-catalog-title">Catalog Title</label>
            <input type="text" id="catalogTitle" placeholder="My Music" required>
          </div>
          
          <div class="form-group">
            <label for="catalogDescription" id="label-catalog-desc">Description</label>
            <textarea id="catalogDescription" rows="3" placeholder="A brief description of your music catalog"></textarea>
          </div>
          
          <div class="form-group">
            <label for="catalogUrl" id="label-catalog-url">Site URL</label>
            <input type="url" id="catalogUrl" placeholder="https://yourdomain.com">
          </div>
          
          <div class="form-group">
            <label for="headerImageUrl" id="label-header-image">Header Background Image (Optional)</label>
            <input type="url" id="headerImageUrl" placeholder="https://example.com/header.jpg">
            <small id="header-image-help">URL of the image to use as header background</small>
          </div>
          
          <div class="form-group">
            <label for="backgroundImageUrl" id="label-background-image">Page Background Image (Optional)</label>
            <input type="url" id="backgroundImageUrl" placeholder="https://example.com/background.jpg">
            <small id="background-image-help">URL of the image to use as page background (entire page)</small>
          </div>
          
        </div>
      </section>

      <!-- Step 3: Artist -->
      <section class="wizard-step" id="step-3">
        <div class="step-content">
          <h2 id="artist-title">Artist Information</h2>
          <p class="subtitle" id="artist-subtitle">Tell us about yourself</p>
          
          <div class="form-group">
            <label for="artistName" id="label-artist-name">Artist Name</label>
            <input type="text" id="artistName" placeholder="Your artist name" required>
          </div>
          
          <div class="form-group">
            <label for="artistBio" id="label-artist-bio">Biography</label>
            <textarea id="artistBio" rows="4" placeholder="Tell your musical story..."></textarea>
          </div>
          
          <div class="form-group">
            <label id="label-social-links">Social Links</label>
            <div class="social-links-container" id="social-links-container">
              <div class="social-link-row">
                <select class="social-platform">
                  <option value="">Select platform...</option>
                  <option value="website">Website</option>
                  <option value="bandcamp">Bandcamp</option>
                  <option value="spotify">Spotify</option>
                  <option value="soundcloud">SoundCloud</option>
                  <option value="youtube">YouTube</option>
                  <option value="instagram">Instagram</option>
                  <option value="twitter">Twitter/X</option>
                </select>
                <input type="url" class="social-url" placeholder="https://...">
                <button type="button" class="btn-icon remove-social" onclick="removeSocialLink(this)">√ó</button>
              </div>
            </div>
            <button type="button" class="btn-secondary btn-small" onclick="addSocialLink()" id="btn-add-link">+ Add Link</button>
          </div>
        </div>
      </section>

      <!-- Step 4: Release -->
      <section class="wizard-step" id="step-4">
        <div class="step-content">
          <h2 id="release-title">Release</h2>
          <p class="subtitle" id="release-subtitle">Configure your album or single</p>
          
          <!-- Existing releases info (shown when loading existing site) -->
          <div class="existing-releases-info" id="existing-releases-info" style="display: none;">
            <div class="info-box">
              <p><strong id="existing-releases-label">Existing releases loaded:</strong></p>
              <ul id="existing-releases-list"></ul>
              <p id="release-mode-note">You can add a new release below, or modify an existing one by editing its details.</p>
            </div>
          </div>
          
          <div class="form-group">
            <label for="releaseTitle" id="label-release-title">Title</label>
            <input type="text" id="releaseTitle" placeholder="My First Album" required>
          </div>
          
          <div class="form-group">
            <label for="releaseDate" id="label-release-date">Release Date</label>
            <input type="date" id="releaseDate" required>
          </div>
          
          <div class="form-group">
            <label for="releaseDescription" id="label-release-desc">Description</label>
            <textarea id="releaseDescription" rows="3" placeholder="Describe this release..."></textarea>
          </div>
          
          <div class="form-group">
            <label for="releaseGenres" id="label-release-genres">Genres</label>
            <input type="text" id="releaseGenres" placeholder="Electronic, Ambient, Experimental">
            <small id="genres-help">Separate genres with commas</small>
          </div>
          
          <!-- Cover Image Upload -->
          <div class="form-group">
            <label id="label-cover-upload">Cover Image</label>
            <div class="file-upload-area" id="cover-upload-area">
              <div class="upload-placeholder" id="cover-placeholder">
                <span class="upload-icon">üñºÔ∏è</span>
                <span id="cover-upload-text">Click or drag to upload cover image</span>
                <small>JPG, PNG, WebP (max 5MB)</small>
              </div>
              <img id="cover-preview" class="cover-preview" style="display: none;">
              <input type="file" id="coverFile" accept="image/jpeg,image/png,image/webp" hidden>
            </div>
          </div>
          
          <!-- Audio Files - Upload or URL -->
          <div class="form-group">
            <label id="label-audio-upload">Audio Tracks</label>
            
            <!-- Toggle between Upload and URL -->
            <div class="audio-source-toggle">
              <button type="button" class="toggle-btn active" data-mode="upload" id="audio-mode-upload">
                <span>üì§ Upload Files</span>
              </button>
              <button type="button" class="toggle-btn" data-mode="url" id="audio-mode-url">
                <span>üîó Use URLs</span>
              </button>
            </div>
            
            <!-- Upload Mode -->
            <div class="audio-upload-mode" id="audio-upload-mode">
              <div class="file-upload-area audio-upload" id="audio-upload-area">
                <div class="upload-placeholder">
                  <span class="upload-icon">üéµ</span>
                  <span id="audio-upload-text">Click or drag to upload audio files</span>
                  <small>MP3, FLAC, OGG, WAV (multiple files allowed)</small>
                </div>
                <input type="file" id="audioFiles" accept="audio/mpeg,audio/flac,audio/ogg,audio/wav,audio/mp3" multiple hidden>
              </div>
              <div class="track-list-preview" id="track-list-preview"></div>
            </div>
            
            <!-- URL Mode -->
            <div class="audio-url-mode" id="audio-url-mode" style="display: none;">
              <div class="url-input-group">
                <input type="url" id="audioUrlInput" placeholder="https://example.com/track1.mp3" class="url-input">
                <button type="button" class="btn-icon add-url-btn" id="add-audio-url-btn">+</button>
              </div>
              <div class="track-list-preview" id="track-url-list-preview"></div>
              <small id="audio-url-help">Enter one URL per line or add them one by one</small>
            </div>
          </div>
        </div>
      </section>

      <!-- Step 5: Download Mode -->
      <section class="wizard-step" id="step-5">
        <div class="step-content">
          <h2 id="download-title">Download Mode</h2>
          <p class="subtitle" id="download-subtitle">How do you want to distribute your music?</p>
          
          <div class="download-modes" id="download-modes">
            <label class="download-mode-card active" data-mode="free">
              <input type="radio" name="downloadMode" value="free" checked>
              <div class="mode-icon">üÜì</div>
              <div class="mode-info">
                <strong id="mode-free-name">Free</strong>
                <span id="mode-free-desc">Immediate download without restrictions</span>
              </div>
            </label>
            
            <label class="download-mode-card" data-mode="paycurtain">
              <input type="radio" name="downloadMode" value="paycurtain">
              <div class="mode-icon">üí∞</div>
              <div class="mode-info">
                <strong id="mode-paycurtain-name">Pay What You Want</strong>
                <span id="mode-paycurtain-desc">Suggest a price, but download is always available</span>
              </div>
            </label>
            
            <label class="download-mode-card" data-mode="codes">
              <input type="radio" name="downloadMode" value="codes">
              <div class="mode-icon">üîê</div>
              <div class="mode-info">
                <strong id="mode-codes-name">Unlock Codes</strong>
                <span id="mode-codes-desc">Protect downloads with unique codes</span>
              </div>
            </label>
            
            <label class="download-mode-card" data-mode="none">
              <input type="radio" name="downloadMode" value="none">
              <div class="mode-icon">üéß</div>
              <div class="mode-info">
                <strong id="mode-none-name">Streaming Only</strong>
                <span id="mode-none-desc">No downloads, streaming only</span>
              </div>
            </label>
          </div>
          
          <div class="paycurtain-options" id="paycurtain-options" style="display: none;">
            <div class="form-group">
              <label for="price" id="label-price">Suggested Price</label>
              <div class="input-with-prefix">
                <span class="prefix">$</span>
                <input type="number" id="price" value="10" min="0" step="0.01">
              </div>
            </div>
            <div class="form-group">
              <label for="paypalLink" id="label-paypal">PayPal Link (optional)</label>
              <input type="url" id="paypalLink" placeholder="https://paypal.me/...">
            </div>
            <div class="form-group">
              <label for="stripeLink" id="label-stripe">Stripe Link (optional)</label>
              <input type="url" id="stripeLink" placeholder="https://buy.stripe.com/...">
            </div>
          </div>
        </div>
      </section>

      <!-- Step 6: Summary -->
      <section class="wizard-step" id="step-6">
        <div class="step-content">
          <h2 id="summary-title">Summary</h2>
          <p class="subtitle" id="summary-subtitle">Review your configuration</p>
          
          <div class="summary-grid">
            <div class="summary-card">
              <h3 id="summary-catalog-info">Catalog</h3>
              <div class="summary-content" id="summary-catalog"></div>
            </div>
            <div class="summary-card">
              <h3 id="summary-artist-info">Artist</h3>
              <div class="summary-content" id="summary-artist"></div>
            </div>
            <div class="summary-card">
              <h3 id="summary-release-info">Release</h3>
              <div class="summary-content" id="summary-release"></div>
            </div>
            <div class="summary-card">
              <h3 id="summary-download-info">Download Mode</h3>
              <div class="summary-content" id="summary-download"></div>
            </div>
          </div>
          
          <!-- Preview iframe -->
          <div class="preview-container">
            <h3 id="preview-title">Preview</h3>
            <div class="preview-frame" id="preview-frame">
              <!-- Preview will be rendered here -->
            </div>
          </div>
        </div>
      </section>

      <!-- Success Screen -->
      <section class="wizard-step" id="step-success" style="display: none;">
        <div class="step-content success-content">
          <div class="success-icon">‚úÖ</div>
          <h2 id="success-title">Site Ready!</h2>
          <p class="subtitle" id="success-message">Your complete music site has been generated.</p>
          
          <div class="build-stats" id="build-stats">
            <!-- Build stats will be inserted here -->
          </div>
          
          <div class="next-steps">
            <h3 id="next-steps-title">Next Steps</h3>
            <ol>
              <li id="next-step-1">Extract the ZIP file</li>
              <li id="next-step-2">Upload the folder to any web hosting (Netlify, Vercel, GitHub Pages...)</li>
              <li id="next-step-3">Share your music with the world!</li>
            </ol>
          </div>
          
          <div class="download-buttons">
            <button class="btn-primary btn-large" onclick="downloadZip()" id="btn-download-zip">
              üì¶ Download Complete Site
            </button>
          </div>
          
          <div class="hosting-tips">
            <h4 id="hosting-tips-title">Free Hosting Options</h4>
            <div class="hosting-grid">
              <a href="https://netlify.com" target="_blank" class="hosting-option">
                <strong>Netlify</strong>
                <span>Drag & drop deploy</span>
              </a>
              <a href="https://vercel.com" target="_blank" class="hosting-option">
                <strong>Vercel</strong>
                <span>One-click deploy</span>
              </a>
              <a href="https://pages.github.com" target="_blank" class="hosting-option">
                <strong>GitHub Pages</strong>
                <span>Free with GitHub</span>
              </a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Navigation -->
    <footer class="wizard-footer">
      <button class="btn-secondary" id="btn-back" onclick="previousStep()" style="visibility: hidden;">
        ‚Üê <span id="btn-back-text">Back</span>
      </button>
      <button class="btn-primary" id="btn-next" onclick="nextStep()">
        <span id="btn-next-text">Next</span> ‚Üí
      </button>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="i18n.js"></script>
  <script src="previewer.js"></script>
  <script src="wizard.js"></script>
</body>
</html>
